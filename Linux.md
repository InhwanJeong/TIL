Linux
=====

Command
-------

## ls : 현재 폴더의 내용물을 보여준다

- ls -al : 현재 폴더의 내용 + 권한, 용량, 수정날짜를 보여준다.   
- ls -l 파일 : 특정 파일의 권한을 보여준다.           

**#접근권한 -------**

파일타입 | private | protected | public
--- | --- | --- | ---
d | rwx  | rwx  | rwx

파일 타입 | 내용
--- | ---
Nothing(-) | 일반 파일
d | 디렉터리
p | Named pipe
s | 소켓
b, c | 디바이스 파일

- r : read, 읽기 권한
- w : write, 쓰기 권한
- x : execution, 실행 권한                  
-> ex) -rwxr-x--x (일반파일이며,나는 읽고 쓰고 실행, 내 그룹은 읽고 실행, 그외는 실행만 가능)                 

#### 접근 권한 변경
- chmod : 파일 모드 변경
```
$ chmod [options] mode file
$ chmod [references][operator][modes] file
```

레퍼런스 | 클래스 | 설명
--- | --- | ---
u | 사용자 | 파일의 소유자
g | 그룹 | 그 파일의 그룹 멤버인 사용자
o | 다른사람들 | 그외 사용자
a | 모든 사람 | ugo를 모두 포함

연산자 | 설명
--- | ---
(+) | 지정된 모드들은 지정된 클래스에 더한다 (해당 레퍼런스 기능 추가)
(-) | 지정된 모드들은 지정된 클래스에 지운다 (해당 레퍼런스 기능 제거)
(=) | 지정된 클래스들을 위해서 지정된 모드들이 정확한 모드들로 만들어지게 된다

모드 | 이름 | 설명
--- |--- | ---
r | 읽기(read) | 파일을 읽거나 디렉터리 안 내용물의 리스트를 보여준다
w | 쓰기(write) | 파일이나 디렉터리에 쓴다
x | 실행(excute) | 파일을 실행하거나 디렉터리 트리로 되돌아간다

명령 | 설명
--- | ---
chmod +r file |모두에 대해 읽기를 추가한다
chmod -x file |모두에 대해 실행 허가를 제거한다
chmod u=rw,go= file |파일의 읽기와 쓰기를 그 파일의 소유자에게만 설정하고 그룹이나 다른 사람들에게 설정된 모든 허가를 지운다
chmod +rw file |모두가 읽고 쓸 수 있도록 file이라는 파일의 허가들을 바꾼다
chmod -R u+w,go-w docs/ | 사용자에게는 쓰기를 추가하고 다른 모든 사람들에게는 쓰기를 제거하기 위해서 docs라는 디렉터리와 그 안의 모든 내용물에 대한 허가들을 바꾼다.
chmod 0 file|모두의 모든 허가를 지운다
chmod 666 file |그 사용자, 그 그룹이나 다른 모든 이에 대해서 쓰기나 읽기 권한을 설정한다
chmod 0755 file |u=rwx (4+2+1)나 go=rx (4+1 & 4+1)와 같다. 0는 어떤 특별한 모드들도 지정하지 않는다.
chmod 4755 file |4은 사용자 ID 설정을 지정하고 나머지는 u=rwx (4+2+1)나 go=rx (4+1 & 4+1)와 동일하다
chmod -R u+rwX,g-rwx,o-rwx directory |소유자 디렉터리에 대한 rwx(읽기, 쓰기, 실행)을, 소유자 파일들에 대해서는 rw(읽기, 쓰기)를, 그룹이나 다른 이들에 대해서는 ---를 설정하기 위해서 디렉터리 트리를 설정한다.
chmod -R a-x+X directory |디렉터리 트리 안에 있는 모든 파일들에 대한 실행 허가를 제거한다. 반면 디렉터리 열람은 허용한다. 


## alias : 별명을 만들어 명령어를 간단하게 실행
- 영구 등록방법
```
$ vi ~./bashrc #vi 편집기로 추가할 내용 추가
$ source ~/.bashrc #vi 편집기 종료 후 입력
```
- alias 별명=''   $ alias 1='cd /opt/lampstack-7.1.19-0;sudo ./manager-linux-x64.run'


## cd : 폴더 위치를 바꿀때 사용한다.

- cd / : 최상위 폴더로 이동
- cd  or cd ~  : 바탕화면 다운로드 등 기본 폴더가 있는 곳으로 이동
- cd 폴더명 : 현재 폴더안에 있는 폴더로 이동
- cd 폴더명/폴더명/폴더명 ... : 해당 폴더로 이동
- cd..   : 상위 폴더로 이동

## man(manual) 명령어
- 9개의 섹션으로 나뉘어 져있다.
- man + 명령어로 명령어의 설명을 볼 수 있다.
- man -k translate로 한줄로 요약된 설명서를 볼 수 있다.
- manpath로 man의 기본경로를 알 수 있다.

## 파일, 패키지 찾기 기능
- which : 해당 프로그램이 깔려있는지 확인
- whereis : which 보다 더 넓은 범위 탐색
- locate : 하드디스크에 있는 모든 파일 탐색

## 폴더 생성 삭제

- mkdir 폴더명  : 현재 폴더에서 폴더 생성
- rmdir 폴더명  : 현재 폴더에서 폴더 삭제        
- rm - rf 폴더명 : 폴더 삭제
- mv 폴더명 위치 : 폴더 이동
- mv 폴더명1 폴더명2 :  1 -> 2로 이름변경

## 파일 생성 삭제

1-1.touch 파일명 : 현재 폴더에 파일생성     
1-2.cat>파일명   : 현재 폴더에 파일생성과 동시에 내용물 초기화        
1-3.vi 파일명    : visual display editor을 실행 시키며 내용물을 작성,수정을 할 수 있다.       
1-4.gedit 파일명 : GUI 형태의 파일 생성       

- $ gedit test.c       
- $ gcc -o test test.c     
- $ ./test     

2.rm 파일명 : 현재 폴더에 파일 삭제

3.mv 파일명 위치 : 파일 이동

4.mv 파일명1 파일명2 : 1 -> 2로 이름변경

## 그 외 기능
- clear : 화면청소기능



# System Administration 

## Where to start

### 1.1 시스템 관리자의 개인적인 의무
- 계정 프로비저닝
- 하드웨어 추가 및 제가
- 백업 수행하기
- 소프트웨어를 설치하고 업그레이드
- 시스템을 모니터링
- 문제 해결
- 로컬 문서 유지보수
- 보안을 철저히 모니터링
- 소방업무(고객의 급한일 처리)

### 1.2 사전 지식을 요구한다.
- 유닉스와 리눅스에 대한 사전지식을 요구
- 스크립트 작성으로 명령 쉘과 텍스트 편집 능력에 능숙해야한다.
- 편집기 gedit, vi, emacs를 사용한다.(ms word, open office는 쓸모없다.)
- 프로그래밍언어로는 perl과 파이썬을 권장한다.

### 1.3 유닉스와 리눅스 간 마찰
- 두 운영체제는 비슷한 운영체제이다.
- 이 책에서는 두 운영체제 모두 사용할 예정이다.
- 서로간의 마찰이 많다.

### 1.4 리눅스 배포판
- 모든 리눅스는 동일한 커널계열을 공유하지만 보조자료는 상당히 다르다.
- 디비안, 레드햇과 같이 SUSE기반이 우세하다.
- 배포판 선택에 있어 중요한 4가지 사항
1. 이 배포판은 5년 후에 출시 되는가?
2. 이 배포판은 보안 패치가 추가 될 예정인가?
3. 업데이트 된 소프트웨어를 즉시 공개하는가?
4. 문제 발생시 공급 업체가 나에게 이야기 해 주는가?

- 리눅스 선택에 있어 꼭 많이 사용되는 것을 사용하지 않아도 된다.

### 1.5 이책에 사용된 시스템 예제
- 가급적 모든 리눅스 예제가 들어갈 예정이다.
- 특별한 경우 해당 리눅스로고가 들어갈 예정이다.

### 1.6 시스템- 특정관리 도구
- 다양한 도구와 제어판이 있다.
- 초보에게 유용하지만 불완전하다.
- 시각적 도구는 문제 추적과 수정에 도움이 안된다.
- 수동 구성이 더 빠르고 유연하며 안정적이다. 그리고 스크립트 구성이 쉽다.

### 1.7 표기법과 표기규칙
- 파일이름, 명령, 명령에 대한 문자인수는 굵게 표시되어있다.
- []는 추가적인 옵션, {}는 항목 중 선택, ...은 되풀이 되는것을 의미한다.
- *는 0개나 그 이상과 매치된다.
- ?는 한 문자랑 매치된다.
- ~는 현재 사용자의 홈 디렉터리를 의미한다.

### 1.8 단위
- 소문자 b : 비트 , 대문자 B : 바이트
- RAM은 항상 2의 배수로 표기, 네트워크 대역폭은 항상 10의 배수로 표기
- 저장공간은 10의 제곱으로 표기 -> 실제론 2의 배수

### 1.9 Man 페이지와 다른 문서
- Manual페이지 인데 man 명령어로 실행되서 Man페이지 라고도 불린다.
- 일반적으로 소프트웨어 설치시 패키지에 함께 제공 된다.
- Man 페이지는 개별명령, 드라이버, 파일 형식, 라이브러리 루틴에 관한 설명이 있다.
- 모든 메뉴얼은 섹션별로 나뉜다.
- man -k로 한줄로 요약된 메뉴얼 페이지를 출력할 수 있다.
- nroff(new roff)는 멘페이지 텍스트를 포멧하는데 사용한다.
- manpath라는 명령을 통해 현재 기본경로를 찾을 수 있다.

### 1.10 기타 공인문서
- man 페이지는 공식 문서의 일부분이고 나머지는 웹상에 흩어져있다.
- 주요업체는 자체 문서프로젝트를 보유하고 있으며 요즘은 인터넷에서 무료로 다운로드 할 수 있다.
- 구글에 검색하면 좋지않은것 부터 좋은 파일들이 많이 있다.

### 1.11 기타 정보 출처
- 인터넷 블로그, 포럼등에 많은 자료가 있다.
- 구글은 시스템관리자의 최고의 친구이다. 구글에 버릇 들이자.

### 1.12 소프트웨어를 찾아서 설치하는 방법
- 소프트웨어가 설치되어 있는지 확인
```
기본 : which gcc
확장 : whereis gcc
모든 유형의 파일 : locate gcc
```
- 새 소프트웨어 추가        
-새 소프트웨어 추가를 위해선 패키지의 정식 명칭을 알아야 한다.        
-각 운영체제별 설치 방법
```
Ubuntu   : apt-get install wget
SUSE    : yast --install wget
Red hat : yum install wget
Solaris : /opt/csw/bin/pkgutil --install wget
HP-us   : gunzip /tmp/wget-1.11.4-hppa-11.31dept.gz
          swunstall -s /tmp/wget-1.11.4-hppa-11.31.depot wegt
```
- swinstall 명령 줄의 패키지 저장소는 /로 시작하는 경로를 지정해주어야 한다. 그렇지 않으면 네트워크에서 파일을 찾는다.
- 소스코드에서 소프트웨어 빌드하기     
-configure /make /make 설치순서는 대다수의 유닉스와 리눅스에서 공통적으로 사용.      
-configure옵션을 사용하면 설치되지 않은 다른 라이브러리에 의존하는 wget기능을 생략한다.     
-만약 실생활에서 전제조건을 설치하기를 원한다면 configure --help를 사용해 보자.
